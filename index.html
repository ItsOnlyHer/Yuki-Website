<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"> <!--redirects users on http to https. might be unecessary-->
  <title>Yuki-Site! <3</title> <!--sets the title of the tab-->
  <link rel="icon" type="image/x-icon" href="favicon.jpg"> <!--sets favicon-->
  <link href="style.css" rel="stylesheet" type="text/css"> <!--sets the page's css file-->
  <meta name="viewport" content="width=device-width">
</head>
<body>
  
  <div class=wrapper>
	<div class=box>
		<div class=header>
		Yuki Site 
		</div>
		<div class=main-bio>
		<span id="intro-preview">
		  Hey! I'm Yuki! 
		  <br>I'm just a weirdo bastard on the Internet.
		</span>
		<span id="intro-more" style="display: none;">
		  <br>I usually just play games, roleplay on VRChat, 
		  <br>and just hangout with friends I love.
		  <br>I'm really terrible at socializing and talking,
		  <br>so if I'm rude sounding... Sorry?
		  <br>[ 󱀝 Running Arch Linux 6.12.19-1-lts. 󱀝 ]
		</span>
		<br><button onclick="toggleIntro()" id="introBtn">Read more</button>

		<script>
		  function toggleIntro() {
		    var preview = document.getElementById("intro-preview");
		    var more = document.getElementById("intro-more");
		    var btn = document.getElementById("introBtn");
		
		    if (more.style.display === "none") {
		      more.style.display = "inline";
		      btn.innerHTML = "Read less";
		    } else {
		      more.style.display = "none";
		      btn.innerHTML = "Read more";
		    }
		  }
		</script>
      	<p>Interests: Hanging out<span id="dots">...</span>
      	              <span id="more" style="display: none;">
      	                  <br>Playing games
      	                  <br>Roleplaying
      	                  <br>Interstellar Internet Exploration
      	                  <br>General fuckery.
      	              </span>
      	          </p>
      	          <button onclick="myFunction()" id="myBtn">Read more</button>
      	          
      	          <script>
      	          function myFunction() {
      	            var dots = document.getElementById("dots");
      	            var moreText = document.getElementById("more");
      	            var btnText = document.getElementById("myBtn");
      	          
      	            if (dots.style.display === "none") {
      	              dots.style.display = "inline";
      	              btnText.innerHTML = "Read more";
      	              moreText.style.display = "none";
      	            } else {
      	              dots.style.display = "none";
      	              btnText.innerHTML = "Read less";
      	              moreText.style.display = "inline";
      	            }
      	          }
      	          </script>
		</div>
		<div class=links>
		<a href=https://github.com/ItsOnlyHer>GitHub</a> 
		<a href=https://www.roblox.com/users/385666942/profile>Roblox</a> 
		<a href=https://x.com/Masayuki_MP>Twitter</a>
		<a href=https://leexyz.online>Leesite</a>
		
		</div>
	
		<div class=status>
		
		</div>
		<div class=music> 

		<br>Currently Listening To...<br>
		<br>
		
		<img src="placeholder.jpg" alt="Album Art" id="albumArt" class="album-art">
		               <div class="song-info">
		                   <p><strong>Track:</strong> <span id="track">--</span></p>
		                   <p><strong>Artist:</strong> <span id="artist">--</span></p>
		                   <p><strong>Album:</strong> <span id="album">--</span></p>
		                   <p><a href="#" target="_blank" id="trackUrl">Listen on Last.fm</a></p>
		               </div>
		     <script>
		     async function fetchNowPlaying() {
		                 const user = 'Maasayukii'; // Replace with your Last.fm username
		                 const url = `https://lastfm-last-played.biancarosa.com.br/${user}/latest-song`;
		     
		                 try {
		                     const response = await fetch(url);
		                     const data = await response.json();
		     
		                     const track = data.track.name || '???';
		                     const artist = data.track.artist['#text'] || '???';
		                     const album = data.track.album['#text'] || '???';
		                     const albumArt = data.track.image.find(img => img.size === 'large')['#text'] || 'placeholder.jpg';
		                     const trackUrl = data.track.url || '#';
		     
		                     document.getElementById('track').textContent = track;
		                     document.getElementById('artist').textContent = artist;
		                     document.getElementById('album').textContent = album;
		                     document.getElementById('albumArt').src = albumArt;
		                     document.getElementById('trackUrl').href = trackUrl;
		                 } catch (error) {
		                     console.error('Error fetching now playing data:', error);
		                     document.getElementById('track').textContent = 'Error';
		                 }
		             }
		     		setInterval(fetchNowPlaying, 10000);
		     		fetchNowPlaying();
		             // Media Control Actions
		             async function controlMedia(action) {
		                 await fetch(`/media/${action}`);
		                 fetchNowPlaying();
		             }
		             
		    </script>
		    <div class=version>
		    <footer>
		    Yuki-Site v0.5b
		    <br>Might update this later...
		    </footer>
		    </div>
		</div>
	</div>

  </div>
  <script src="oneko.js" class="oneko"></script>
</body>
